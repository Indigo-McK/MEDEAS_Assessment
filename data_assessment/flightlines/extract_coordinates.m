%extracts the lat, lon variables from the netcdf data and plots them in 
%    polar stereographic coordinates
filenames={
	'IR2HI1B_2011001_ASB_JKB2d_GL0234a_004.nc',...
	'IR2HI1B_2011001_ASB_JKB2d_GL0234a_005.nc',...
	'IR2HI1B_2011001_ASB_JKB2d_GL0234a_006.nc',...
	'IR2HI1B_2011001_ASB_JKB2d_GL0234a_007.nc',...
	'IR2HI1B_2011001_ASB_JKB2d_GL0234a_008.nc',...
	'IR2HI1B_2011001_ASB_JKB2d_GL0234a_009.nc',...
	'IR2HI1B_2011001_ASB_JKB2d_GL0234a_010.nc',...
	'IR2HI1B_2011023_ASB_JKB2d_1973La_000.nc',...
	'IR2HI1B_2011023_ASB_JKB2d_1973La_001.nc',...
	'IR2HI1B_2011023_ASB_JKB2d_F50T01a_000.nc',...
	'IR2HI1B_2011023_ASB_JKB2d_F50T01a_001.nc',...
	'IR2HI1B_2011023_ASB_JKB2d_F50T01a_002.nc',...
	'IR2HI1B_2011023_ASB_JKB2d_F50T01a_003.nc',...
	'IR2HI1B_2011025_ICP3_JKB2d_F52T01a_000.nc',...
	'IR2HI1B_2011025_ICP3_JKB2d_F52T01a_001.nc',...
	'IR2HI1B_2011028_ASB_JKB2d_TRISEa_000.nc',...
	'IR2HI1B_2011340_ICP4_JKB2e_F14T02a_000.nc',...
	'IR2HI1B_2011340_ICP4_JKB2e_F14T02a_001.nc',...
	'IR2HI1B_2011343_ASB_JKB2e_R01Eb_000.nc',...
	'IR2HI1B_2011343_ASB_JKB2e_R01Eb_001.nc',...
	'IR2HI1B_2011343_ASB_JKB2e_R01Eb_002.nc',...
	'IR2HI1B_2011343_ASB_JKB2e_R01Eb_003.nc',...
	'IR2HI1B_2011343_ASB_JKB2e_R01Ec_000.nc',...
	'IR2HI1B_2011343_ASB_JKB2e_R01Ec_001.nc',...
	'IR2HI1B_2011343_ASB_JKB2e_R01Ec_002.nc',...
	'IR2HI1B_2011343_ASB_JKB2e_R01Ec_003.nc',...
	'IR2HI1B_2012336_ASB_JKB2h_R02Ed_000.nc',...
	'IR2HI1B_2012336_ASB_JKB2h_R02Ed_001.nc',...
	'IR2HI1B_2012336_ICP5_JKB2h_F14T01a_000.nc',...
	'IR2HI1B_2012336_ICP5_JKB2h_F14T01a_001.nc',...
	'IR2HI1B_2012338_ASB_JKB2h_R01Ed_000.nc',...
	'IR2HI1B_2012338_ASB_JKB2h_R01Ed_001.nc'};

figure
hold on

for i=1:length(filenames)
	lat=ncread(filenames{i},'lat');
	lon=ncread(filenames{i},'lon');
	[x,y]=ll2xy(lat,lon,-1);
	plot(x,y)
	%scatter(x,y,20,isochrone_depth,'filled') %plots plan-view isochrone depth as function of x,y coordinate
	text(x(1),y(1),num2str(i))
	lats{i}=lat;
	lons{i}=lon;
	xs{i}=x;
	ys{i}=y;
	csvwrite([filenames{i}(1:end-3) '.txt'],[x,y,lat,lon]);
	return
end

lawdome_lat = 66.7667;
lawdome_lon = 112.8167;

[ldx,ldy]=ll2xy(lawdome_lat,lawdome_lon,-1);
plot(ldx,ldy,'rx')
